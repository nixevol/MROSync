现有14个FTP服务器，每个服务器有不同的目录，目录内每隔几分钟就会新增一些zip文件，现在需要一个后台服务程序定时自动同步指定下的所有目录以及zip文件，并控制本地储存空间的最大储存量

程序名称：MROSync 程序

MROSync程序的架构和需求如下：

1.每隔1分钟扫描一次14个FTP服务器（每隔FTP服务器单独一个线程扫描），一旦有新增的ZIP文件或目录则自动把文件或目录同步到本地路径/sync/{FTP名称}/里面，{FTP名称}为自定义给每个FTP服务器的名称

2.每次扫描前统计本地磁盘占用情况，一旦超过60%的储存空间则自动删除最开始下载的zip文件直到储存空间占用小于60%，并且删掉的文件如果在那14个服务器上再次扫描到则不会对其进行同步，（下载记录存放在本地的sqlite内用于判断是否已经下载过，删除本地文件时不删除数据库上面的记录以防多次下载）
3.每当有新的ZIP文件下载完毕之后，则会访问一次http://mro.web.com/dls.php?file={filename}，{filename}则为下载文件的本地路径(不包含/sync)url编码,例如/{FTP名称}/xxx/omc_456456_mro.zip
4.主线程序可以控制这些线程的启停，在命令行中输入statr则自动启动所有线程，输入stop则自动停止所有线程，（stop()功能采用退出标志的方法实现）

代码按功能块细化拆分为多个py文件

文件划分如下：

ftpconnect.py：实现FTP连接功能

ftpdownload.py：实现FTP下载功能

localstore.py：实现本地存储功能

localdelete.py：实现本地删除功能

localstat.py：实现本地磁盘空间统计功能

control.py：实现命令行控制功能

main.py：实现程序主要功能

log.py：实现日志记录功能

dbconnect.py：实现数据库连接功能

downloadrecord.py：实现下载记录功能

各模块功能如下：

1.FTP连接模块

这个模块需要定义一个函数来连接FTP服务器，输入参数为FTP服务器的地址、用户名、密码，输出参数为FTP连接对象。需要使用ftplib模块来实现。可以定义一个ftpconnect函数来实现连接操作。


2.FTP下载模块

这个模块需要定义一个函数来下载FTP服务器上的ZIP文件，输入参数为FTP连接对象、FTP服务器名称、远程路径、本地路径，输出参数为下载文件的本地路径。需要使用ftplib模块来实现。可以定义一个ftpdownload函数来实现下载操作。在下载操作中需要判断下载的文件是否已经存在，如果已经存在则不进行下载。


3.本地存储模块

这个模块需要定义一个函数来存储ZIP文件到本地路径，输入参数为本地路径、文件名、文件内容，输出参数为存储的文件路径。需要使用os模块来实现。可以定义一个localstore函数来实现存储操作。


4.本地删除模块

这个模块需要定义一个函数来删除本地文件，输入参数为文件路径，输出参数为删除结果（成功或失败）。需要使用os模块来实现。可以定义一个localdelete函数来实现删除操作。


5.统计模块

这个模块需要定义一个函数来统计本地磁盘空间使用情况，输入参数为本地路径，输出参数为磁盘空间使用情况。需要使用os模块来实现。可以定义一个localstat函数来实现统计操作。


6.命令行控制模块

这个模块需要定义一个函数来控制程序的启停，输入参数为程序状态（start或stop），输出参数为执行结果（成功或失败）。需要使用threading模块来实现多线程控制。可以定义一个control函数来实现控制操作。


7.主程序模块

这个模块需要定义一个函数来实现程序的主要功能，包括循环扫描FTP服务器、下载ZIP文件、存储到本地、删除本地文件、统计磁盘空间、访问HTTP服务器等。需要使用以上模块来实现。可以定义一个main函数来实现主要功能。


8.日志模块

这个模块需要定义一个函数来记录程序的运行日志，输入参数为日志内容，输出参数为写入结果（成功或失败）。可以使用Python的logging模块来实现。可以定义一个log函数来实现日志记录操作。


9.数据库模块

这个模块需要定义一个函数来连接数据库，输入参数为数据库名称，输出参数为数据库连接对象。需要使用sqlite3模块来实现。可以定义一个dbconnect函数来实现连接操作。


10.下载记录模块
这个模块需要定义一个函数来记录下载的ZIP文件，输入参数为数据库连接对象、FTP服务器名称、文件名，输出参数为记录结果（成功或失败）。需要使用sqlite3模块来实现。可以定义一个downloadrecord函数来实现记录操作。
